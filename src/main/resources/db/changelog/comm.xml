<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <!-- 中国行政区域 -->
    <changeSet id="1670812786-1" author="WangChenChen (generated)">
        <sql splitStatements="true">
            CREATE TABLE `comm_china_area`
            (
                `area_code`   bigint(20) unsigned NOT NULL COMMENT '行政代码 [ 唯一 ]',
                `level`       tinyint(3) unsigned NOT NULL COMMENT '层级 1.省级  2.城市  3.区域',
                `parent_code` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '父级行政代码',
                `zip_code`    mediumint(6) unsigned zerofill NOT NULL DEFAULT '000000' COMMENT '邮政编码',
                `city_code`   char(6)        NOT NULL DEFAULT '' COMMENT '区号',
                `name`        varchar(50)    NOT NULL DEFAULT '' COMMENT '名称',
                `short_name`  varchar(50)    NOT NULL DEFAULT '' COMMENT '简称',
                `merger_name` varchar(50)    NOT NULL DEFAULT '' COMMENT '组合名',
                `pinyin`      varchar(30)    NOT NULL DEFAULT '' COMMENT '拼音',
                `lng`         decimal(10, 6) NOT NULL DEFAULT '0.000000' COMMENT '经度',
                `lat`         decimal(10, 6) NOT NULL DEFAULT '0.000000' COMMENT '纬度',
                PRIMARY KEY (`area_code`) USING BTREE,
                UNIQUE KEY `idx` (`area_code`) USING BTREE
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='[ 通用 ] 中国行政地区表';
        </sql>
    </changeSet>


    <!-- 初始化 中国行政区域 -->
    <changeSet id="1670812786-2" author="WangChenChen (generated)">
        <sqlFile path="db/changelog/china_area.sql"/>
    </changeSet>


    <!--[ 通用 ]全局配置-->
    <changeSet id="1670812792-1" author="WangChenChen (generated)">
        <sql splitStatements="true">
            CREATE TABLE `comm_config`
            (
                `config_id`        bigint(20) NOT NULL AUTO_INCREMENT COMMENT '参数主键',
                `config_name`      varchar(100) NOT NULL DEFAULT '' COMMENT '参数名称',
                `config_key`       varchar(100) NOT NULL DEFAULT '' COMMENT '参数键名',
                `config_value`     text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT '参数键值',
                `config_type`      tinyint(1) NOT NULL DEFAULT '0' COMMENT '系统内置（1.是 0.否）',
                `create_time`      datetime     NOT NULL COMMENT '创建时间',
                `create_user`      bigint(20) NOT NULL COMMENT '创建人',
                `last_update_time` datetime     NOT NULL COMMENT '最后一次修改时间',
                `last_update_user` bigint(20) NOT NULL COMMENT '最后一次修改人',
                PRIMARY KEY (`config_id`) USING BTREE,
                UNIQUE KEY `config_key` (`config_key`) USING BTREE
            ) ENGINE=InnoDB AUTO_INCREMENT=10001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='[ 通用 ] 参数配置表';

            INSERT INTO `comm_config` (`create_time`, `create_user`, `last_update_time`, `last_update_user`,
                                       `config_name`, `config_key`, `config_value`, `config_type`)
            VALUES ('2021-07-14 11:48:16', 19980817, '2021-07-14 11:48:16', 19980817, '用户管理-账号初始密码',
                    'user_default_password', '123456', 1),
                   ('2021-07-16 14:28:41', 19980817, '2022-09-19 14:47:26', 19980817, '租户默认logo',
                    'default_tenant_logo', 'https://oss.mhtled.com/avatar/275753151968186368.png', 1),
                   ('2021-07-16 17:26:56', 19980817, '2021-07-16 17:27:06', 19980817, '租户默认角色名称',
                    'default_role_name', '管理员', 1),
                   ('2022-05-16 11:50:20', 19980817, '2022-05-16 11:50:25', 19980817, '获取法定节假日的接口',
                    'get_holiday_url', 'https://timor.tech/api/holiday/year/%s?type=N&amp;week=Y', 1);
        </sql>
    </changeSet>


    <!--[ 通用 ] 字典类型表-->
    <changeSet id="1670812891-1" author="WangChenChen (generated)">
        <sql splitStatements="true">
            CREATE TABLE `comm_dict_type`
            (
                `type_id`          bigint(20) NOT NULL AUTO_INCREMENT COMMENT '字典类型 ID',
                `type_name`        varchar(50)  NOT NULL COMMENT '字典类型名',
                `type_key`         varchar(50)  NOT NULL COMMENT '字典类型关键字',
                `description`      varchar(255) NOT NULL COMMENT '部门描述',
                `create_time`      datetime     NOT NULL COMMENT '创建时间',
                `create_user`      bigint(20) NOT NULL COMMENT '创建人',
                `last_update_time` datetime     NOT NULL COMMENT '最后一次修改时间',
                `last_update_user` bigint(20) NOT NULL COMMENT '最后一次修改人',
                PRIMARY KEY (`type_id`) USING BTREE
            ) ENGINE=InnoDB AUTO_INCREMENT=10001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='[ 通用 ] 字典类型表';

            INSERT INTO `comm_dict_type` (`type_name`, `type_key`, `description`, `create_time`, `create_user`,
                                          `last_update_time`, `last_update_user`)
            VALUES ('用户性别', 'sys_user_sex', '用户性别列表', '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00',
                    19980817),
                   ('菜单状态', 'sys_show_hide', '菜单状态列表', '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00',
                    19980817),
                   ('系统开关', 'sys_normal_disable', '系统开关列表', '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00', 19980817),
                   ('任务状态', 'sys_job_status', '任务状态列表', '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00', 19980817),
                   ('任务分组', 'sys_job_group', '任务分组列表', '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00',
                    19980817),
                   ('系统是否', 'sys_yes_no', '系统是否列表', '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00',
                    19980817),
                   ('通知类型', 'sys_notice_type', '通知类型列表', '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00', 19980817),
                   ('通知状态', 'sys_notice_status', '通知状态列表', '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00', 19980817),
                   ('操作类型', 'sys_oper_type', '操作类型列表', '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00',
                    19980817),
                   ('系统状态', 'sys_common_status', '登录状态列表', '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00', 19980817),
                   ('警情类型', 'sys_fault_type', '警情类型列表', '2020-07-01 11:29:23', 19980817,
                    '2020-07-01 11:30:02', 19980817),
                   ('菜单类型', 'sys_menu_type', '菜单类型', '2022-06-25 10:02:55', 19980817, '2022-06-25 10:02:59',
                    19980817),
                   ('所属用户', 'sys_menu_target', '所属用户列表', '2022-06-25 10:03:27', 19980817,
                    '2022-06-25 10:03:30', 19980817),
                   ('统计查询类型', 'statistics_query_type', '统计查询类型', '2022-07-09 14:05:30', 19980817,
                    '2022-07-09 14:05:30', 19980817);
        </sql>
    </changeSet>


    <!--[ 通用 ] 字典数据表-->
    <changeSet id="1670813871-1" author="WangChenChen (generated)">
        <sql splitStatements="true">
            CREATE TABLE `comm_dict_data`
            (
                `dict_code`        bigint(20) NOT NULL AUTO_INCREMENT COMMENT '字典编码',
                `dict_sort`        tinyint(4) NOT NULL DEFAULT '0' COMMENT '字典排序',
                `dict_label`       varchar(100) NOT NULL DEFAULT '' COMMENT '字典标签',
                `dict_value`       varchar(100) NOT NULL DEFAULT '' COMMENT '字典键值',
                `type_key`         varchar(50)  NOT NULL DEFAULT '' COMMENT '字典类型',
                `is_default`       tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否默认（1.是 0.否）',
                `create_user`      bigint(20) NOT NULL COMMENT '创建者',
                `create_time`      datetime     NOT NULL COMMENT '创建时间',
                `last_update_user` bigint(20) NOT NULL COMMENT '更新者',
                `last_update_time` datetime     NOT NULL COMMENT '更新时间',
                PRIMARY KEY (`dict_code`) USING BTREE
            ) ENGINE=InnoDB AUTO_INCREMENT=10001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='[ 通用 ] 字典数据表';

            INSERT INTO `comm_dict_data` (`dict_sort`, `dict_label`, `dict_value`, `type_key`, `is_default`,
                                          `create_user`, `create_time`, `last_update_user`, `last_update_time`)
            VALUES (1, '男', '1', 'sys_user_sex', 1, 19980817, '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00'),
                   (2, '女', '0', 'sys_user_sex', 0, 19980817, '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00'),
                   (3, '未知', '2', 'sys_user_sex', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2021-07-27 16:29:10'),
                   (1, '显示', '1', 'sys_show_hide', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '隐藏', '0', 'sys_show_hide', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '正常', '1', 'sys_normal_disable', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '停用', '0', 'sys_normal_disable', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '正常', '1', 'sys_job_status', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '暂停', '0', 'sys_job_status', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '默认', 'DEFAULT', 'sys_job_group', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '系统', 'SYSTEM', 'sys_job_group', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '是', '1', 'sys_yes_no', 1, 19980817, '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00'),
                   (2, '否', '0', 'sys_yes_no', 0, 19980817, '2018-03-16 11:33:00', 19980817, '2018-03-16 11:33:00'),
                   (1, '通知', '1', 'sys_notice_type', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '公告', '2', 'sys_notice_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '正常', '1', 'sys_notice_status', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '关闭', '0', 'sys_notice_status', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '新增', '1', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '修改', '2', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (3, '删除', '3', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (4, '授权', '4', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (5, '导出', '5', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (6, '导入', '6', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (7, '强退', '7', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (8, '生成代码', '8', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (9, '清空数据', '9', 'sys_oper_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '成功', '0', 'sys_common_status', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '失败', '1', 'sys_common_status', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (0, '离线', '0', 'sys_fault_type', 0, 19980817, '2020-07-01 11:31:39', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '开关异常', '1', 'sys_fault_type', 0, 19980817, '2020-07-01 11:32:16', 19980817,
                    '2020-07-01 11:33:33'),
                   (2, '电流异常', '2', 'sys_fault_type', 0, 19980817, '2020-07-01 11:32:38', 19980817,
                    '2018-03-16 11:33:00'),
                   (3, '电压异常', '3', 'sys_fault_type', 0, 19980817, '2020-07-01 11:33:02', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '菜单', '0', 'sys_menu_type', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '按钮', '1', 'sys_menu_type', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '全部用户', '2', 'sys_menu_target', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (2, '租户用户', '0', 'sys_menu_target', 1, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (3, '平台用户', '1', 'sys_menu_target', 0, 19980817, '2018-03-16 11:33:00', 19980817,
                    '2018-03-16 11:33:00'),
                   (1, '年', 'year', 'statistics_query_type', 0, 19980817, '2022-07-09 14:05:44', 19980817,
                    '2022-07-09 14:06:33'),
                   (3, '月', 'month', 'statistics_query_type', 0, 19980817, '2022-07-09 14:06:06', 19980817,
                    '2022-07-09 14:06:06'),
                   (4, '周', 'week', 'statistics_query_type', 0, 19980817, '2022-07-09 14:06:14', 19980817,
                    '2022-07-09 14:06:14'),
                   (5, '日', 'date', 'statistics_query_type', 1, 19980817, '2022-07-09 14:06:21', 19980817,
                    '2022-07-14 11:21:15');
        </sql>
    </changeSet>


    <!--[ 通用 ] 菜单权限表-->
    <changeSet id="1670815177-1" author="WangChenChen (generated)">
        <sql stripComments="true">
            CREATE TABLE `comm_menu`
            (
                `menu_id`          bigint(20) NOT NULL AUTO_INCREMENT COMMENT '菜单ID',
                `menu_name`        varchar(255) NOT NULL COMMENT '菜单名称',
                `parent_id`        bigint(20) NOT NULL DEFAULT '0' COMMENT '父主键',
                `perms`            varchar(255) NOT NULL COMMENT '权限标识',
                `component`        varchar(255) NOT NULL DEFAULT '#' COMMENT '组件',
                `icon`             varchar(255) NOT NULL DEFAULT '#' COMMENT '菜单图标',
                `path`             varchar(255) NOT NULL DEFAULT '#' COMMENT '路由地址',
                `sort`             int(11) NOT NULL COMMENT '排序',
                `menu_type`        tinyint(1) NOT NULL DEFAULT '1' COMMENT '菜单类型（1.菜单 2.按钮）',
                `visible`          tinyint(1) NOT NULL DEFAULT '1' COMMENT '菜单状态（1.显示 0.隐藏）',
                `target`           tinyint(1) NOT NULL DEFAULT '2' COMMENT '0.租户用户   1. 系统用户   2.全部用户',
                `create_time`      datetime     NOT NULL COMMENT '创建时间',
                `create_user`      bigint(20) NOT NULL COMMENT '创建人',
                `last_update_time` datetime     NOT NULL COMMENT '最后一次修改时间',
                `last_update_user` bigint(20) NOT NULL COMMENT '最后一次修改人',
                PRIMARY KEY (`menu_id`) USING BTREE
            ) ENGINE=InnoDB AUTO_INCREMENT=10001 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='[ 通用 ] 菜单权限表';
        </sql>
    </changeSet>


</databaseChangeLog>
